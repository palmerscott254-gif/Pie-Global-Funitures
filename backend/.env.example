# Django Settings
DJANGO_SECRET_KEY=your-secret-key-here-change-in-production-use-at-least-50-characters
DJANGO_DEBUG=False
DJANGO_ALLOWED_HOSTS=.onrender.com,.railway.app,yourdomain.com
# Optional: Render will set RENDER_EXTERNAL_URL automatically; no need to hardcode
# RENDER_EXTERNAL_URL=https://your-app.onrender.com

# Database Configuration
# Option 1: Use DATABASE_URL (recommended for Render/Railway/Heroku)
# Render automatically provides DATABASE_URL environment variable
# DATABASE_URL=postgresql://user:password@host:port/dbname

# Option 2: Use individual PostgreSQL settings (for local development)
POSTGRES_DB=pie_global_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-secure-password
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# CORS Settings (comma-separated list of allowed origins)
# Include your Vercel frontend URL here
# For Vercel rewrites: requests appear to come from same origin, but direct API calls need CORS
CORS_ALLOWED_ORIGINS=https://pie-global-funitures.vercel.app,https://yourdomain.com
CORS_ALLOW_ALL_ORIGINS=False

# CSRF Protection (comma-separated list of trusted origins with scheme)
# Must include both frontend (Vercel) AND backend (Render) URLs
CSRF_TRUSTED_ORIGINS=https://pie-global-funitures.vercel.app,https://pie-global-funitures.onrender.com,https://yourdomain.com

# AWS S3 Configuration (required for production media storage)
# Set these variables in Render dashboard Environment settings
USE_S3=True
AWS_STORAGE_BUCKET_NAME=pieglobal
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
# Note: Region, endpoint, signing method, and ACL behavior are enforced in settings.py:
#   - Region: us-east-1 (fixed; env override ignored)
#   - Endpoint: https://s3.amazonaws.com (global, virtual addressing)
#   - Signing: s3v4 (enforced for all requests)
#   - ACLs: Disabled (relies on bucket policy)

# Media and Static Files
MEDIA_URL=/media/
BACKEND_URL=https://api.yourdomain.com

# Email Configuration (Optional)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-specific-password
DEFAULT_FROM_EMAIL=your-email@gmail.com

# Security Notes:
# 1. NEVER commit the actual .env file to version control
# 2. Generate a strong SECRET_KEY using: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
# 3. Always set DEBUG=False in production
# 4. Use strong, unique database passwords
# 5. Configure ALLOWED_HOSTS, CORS_ALLOWED_ORIGINS, and CSRF_TRUSTED_ORIGINS for your domain
# 6. Use HTTPS (https://) for all production URLs
# 7. For Gmail, use App-Specific Passwords instead of your main password
# 8. Restrict file permissions on .env file: chmod 600 .env
#
# AWS S3 Troubleshooting:
# - If build.sh fails with "SignatureDoesNotMatch" when syncing S3, verify:
#   a) AWS_ACCESS_KEY_ID is set in Render dashboard Environment
#   b) AWS_SECRET_ACCESS_KEY is set in Render dashboard Environment
#   c) USE_S3=True is set
#   d) AWS credentials have ListBucket permission on the S3 bucket
#   e) The S3 bucket exists and is in us-east-1 region
# - If S3 sync should not run during build, set USE_S3=False
